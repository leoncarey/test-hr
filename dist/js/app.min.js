'use strict';

/**
 * Global config
 */
var apiUrl = 'https://swapi.co/api/',
    baseUrl = 'http://localhost:8080/';

/**
 * Loaders
 */
var application = {
	init: function init() {
		home.init();
		products.init();
	},
	menu: function menu() {
		$('.hamburger').on('click', function (e) {
			e.preventDefault();
			$('.menu').addClass('opened');
			return false;
		});

		$('.close-button').on('click', function (e) {
			e.preventDefault();
			$('.menu').removeClass('opened');
			return false;
		});
	}
};

jQuery(function ($) {
	application.menu();
});
'use strict';

/**
 *  Simple Router jQuery kkk
 */
var pathName = window.location.pathname,
    baseUrl = window.location.origin,
    pageLoad = '';

if (pathName != '/') {
	jQuery.get(baseUrl + '/pages' + pathName + '.html').done(function (page) {
		var pageExists = page.includes('<main id="app"></main>');

		if (!pageExists) {
			pageLoad = baseUrl + '/pages' + pathName + '.html';
		} else {
			pageLoad = baseUrl + '/pages/404.html';
		}

		loadPage(pageLoad);
	}).fail(function (err) {
		console.error(err);
		pageLoad = baseUrl + '/pages/404.html';
		loadPage(pageLoad);
	});
} else {
	pageLoad = baseUrl + '/pages/home.html';
	loadPage(pageLoad);
}

function loadPage(pageLoad) {
	jQuery('#app').load(pageLoad);

	setTimeout(function () {
		application.init();
		jQuery('#loader').addClass('site-loaded');
	}, 600);
}
'use strict';

var home = {
	init: function init() {
		if ($('#home').length != 0) {
			this.load();
		}
	},
	load: function load() {
		$('.banner').leoSlider({
			autoplay: false
		});

		this.loadProducts();

		$(window).resize(function () {
			home.eventSlider();
		});
	},

	eventSlider: function eventSlider() {
		if ($(window).width() < 990) {

			$('.block-cards').unbind('leoSlider');
			$('.block-cards').leoSlider({
				itemClass: '.item-card',
				itemsPerSlide: 1,
				autoplay: false
			});
		} else {

			$('.block-cards').unbind('leoSlider');
			$('.block-cards').leoSlider({
				itemClass: '.item-card',
				itemsPerSlide: 2,
				autoplay: true
			});
		}
	},

	loadProducts: function loadProducts() {
		var templateProducts = '';

		$.get(apiUrl + 'people').done(function (res) {

			res.results.forEach(function (person, index) {
				if (index <= 5) {
					templateProducts += home.buildTemplateProducts(person, index + 1);
				}
			});

			$('.block-cards .inner-slider').append(templateProducts);

			home.eventSlider();

			setTimeout(function () {
				$('#loader-section').remove();
			}, 500);
		}).fail(function (err) {
			console.error('An error occurred ===> ', err);
		});
	},
	buildTemplateProducts: function buildTemplateProducts(person, id) {
		return '\n\t\t<a href="product/' + id + '" class="item-card">\n\t\t\t<div>\n\t\t\t\t<div class="image-thumb">\n\t\t\t\t\t<img src="https://starwars-visualguide.com/assets/img/characters/' + id + '.jpg" alt="' + person.name + '">\n\t\t\t\t</div>\n\t\t\t\t<h5 class="title-card">' + person.name + '</h5>\n\t\t\t\t<p>\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipisicing elit. Ad, at deserunt eum illo optio\n\t\t\t\t\tperspiciatis quasi repudiandae.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</a>\n\t\t';
	}
};
'use strict';

var products = {
	init: function init() {
		var _this = this;

		setTimeout(function () {
			if ($('#products').length != 0) {
				_this.load();
			}
		}, 500);
	},
	load: function load() {
		this.loadProducts();
	},
	loadProducts: function loadProducts() {
		var templateProducts = '';

		$.get(apiUrl + 'people').done(function (res) {

			res.results.forEach(function (person, index) {
				if (index <= 9) {
					templateProducts += home.buildTemplateProducts(person, index + 1);
				}
			});

			$('#loader-section').remove();
			$('.block-cards .inner-slider').append(templateProducts);
		}).fail(function (err) {
			console.error('An error occurred ===> ', err);
		});
	},
	buildTemplateProducts: function buildTemplateProducts(person, id) {
		return '\n\t\t<a href="product/' + id + '" class="item-card">\n\t\t\t<div>\n\t\t\t\t<div class="image-thumb">\n\t\t\t\t\t<img src="https://starwars-visualguide.com/assets/img/characters/' + id + '.jpg" alt="' + person.name + '">\n\t\t\t\t</div>\n\t\t\t\t<h5 class="title-card">' + person.name + '</h5>\n\t\t\t\t<p>\n\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipisicing elit. Ad, at deserunt eum illo optio\n\t\t\t\t\tperspiciatis quasi repudiandae.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</a>\n\t\t';
	}
};
'use strict';

(function ($) {
	'use strict';

	$.fn.leoSlider = function (options) {
		var setup = $.extend({
			currentSlide: 0,
			itemClass: '.item-slider',
			speed: 5000,
			autoplay: true,
			itemsPerSlide: 1
		}, options);

		/**
   * Init Slider
   */
		$(this).addClass('leo-slider');

		var itemsSlider = $(this).find(setup.itemClass),
		    slideSize = setup.itemsPerSlide != 1 ? $(this).width() : $(setup.itemClass).width(),
		    totalSizeSlides = itemsSlider.length * itemsSlider.eq(0).width(),
		    templateDots = '',
		    self = this;

		if (setup.itemsPerSlide != 1) {
			var sizePerItem = $(this).width() / setup.itemsPerSlide;

			itemsSlider.css({
				width: sizePerItem,
				float: 'left'
			});
		}

		if ($(window).width() < 990) {
			var sizeItemResponsive = $(this).find('.wrapper-slide').width();

			slideSize = sizeItemResponsive;

			itemsSlider.css({
				width: sizeItemResponsive,
				float: 'left'
			});
		}

		for (var s = 1; s <= (setup.currentSlide + 1) * setup.itemsPerSlide; s++) {
			itemsSlider.eq(s).addClass('current-slide');
		}

		/**
   * Resize wrapper
   */
		$(this).find('.inner-slider').css({
			width: totalSizeSlides
		});

		/**
   * Creation dots
   */
		$(this).find('.dots').remove();
		$(this).append('<ul class="dots"></ul>');
		for (var _s = 0; _s < itemsSlider.length / setup.itemsPerSlide; _s++) {
			templateDots += '<li><a href="#"></a></li>';
		}

		$(this).find('.dots').append(templateDots).find('li').eq(setup.currentSlide).addClass('active');
		$(this).find('.dots a').click(function (e) {
			e.preventDefault();

			setup.currentSlide = $(this).parent().index() - 1;
			goToSlide();
		});

		/**
   * Timer slide
   */
		if (setup.autoplay) {
			setInterval(function () {
				goToSlide();
			}, setup.speed);
		}

		/**
   * Arrow events
   */
		$(this).find('.arrow-slider').remove();
		$(this).append('\n\t\t\t<button class="arrow-slider arrow-slider-left"></button>\n\t\t\t<button class="arrow-slider arrow-slider-right"></button>\n\t\t');

		$(this).find('.arrow-slider-left').click(function (e) {
			e.preventDefault();
			goToSlide('prev');
		});
		$(this).find('.arrow-slider-right').click(function (e) {
			e.preventDefault();
			goToSlide();
		});

		/**
   * Go to slide
   * @param direction: 'next' is default or 'prev'
   */
		function goToSlide() {
			var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'next';

			var finalSlider = Math.round(itemsSlider.length / setup.itemsPerSlide);

			if (direction == 'next') {

				setup.currentSlide = setup.currentSlide < itemsSlider.length - 1 ? setup.currentSlide + 1 : 0;

				if (setup.currentSlide >= finalSlider) {
					setup.currentSlide = 0;
				}
			} else {

				var decreaseNumber = setup.itemsPerSlide == 1 ? itemsSlider.length - 1 : setup.itemsPerSlide;

				setup.currentSlide = setup.currentSlide == 0 ? decreaseNumber : setup.currentSlide - 1;
			}

			$('.current-slide').removeClass('current-slide');

			$(self).find('.inner-slider').animate({
				left: -(slideSize * setup.currentSlide)
			});

			itemsSlider.eq(setup.currentSlide).addClass('current-slide');
			$(self).find('.dots li').removeClass('active').eq(setup.currentSlide).addClass('active');
		}

		return this;
	};
})(jQuery);